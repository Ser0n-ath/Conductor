server {
  listen 8080;

  #---Future: rename endpoints to /api/auth/<endpoints>
  location /auth {
    proxy_pass http://auth:3000;
  }

  location /auth-service {
    proxy_pass http://auth:3000;
  }

  location /verify-token {
    proxy_pass http://auth:3000;
  }

  location /register-useraccount{
    proxy_pass http://auth:3000;
  }
  #

  #--User device microservice.
  location /api/devices{
    proxy_pass http://devicelink:3007;
  }

  location /api/devices/addDevice{
    proxy_pass http://devicelink:3007;
  }

  location /api/devices/getAllDevices{
    proxy_pass http://devicelink:3007;
  }

  location /api/devices/getOneDevice{
    proxy_pass http://devicelink:3007;
  }

  location /api/devices/deleteOneDevice{
    proxy_pass http://devicelink:3007;
  }
  #---

  #-- predicatemicroservice:
  location /api/predicates/addPredicate {
    proxy_pass http://predicatemicroservice:3014;
  }
  location /api/predicates/deletePredicate {
    proxy_pass http://predicatemicroservice:3014;
  }
  location /api/predicates/satisfyPredicate/ {
    proxy_pass http://predicatemicroservice:3014$uri;
  }

  location /api/predicates/getViaId {
    proxy_pass http://predicatemicroservice:3014$uri;
  }
  location /api/predicates/getViaUserId {
    proxy_pass http://predicatemicroservice:3014$uri;
  }

  location /api/predicates/deleteAllPredicates {
    proxy_pass http://predicatemicroservice:3014;
  }

}